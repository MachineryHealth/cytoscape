<!doctype html>
<html>
	<head>
		<title>Cytoscape Web: SVG prototype</title>
		<style>
			#page {
				font-family: sans-serif;
				color: #404040;
				width: 440px;
				margin: 30px auto;
			}
		</style>
		<script type="text/javascript" src="raphael-1.5.2.js"></script>
		<script type="text/javascript" src="cytoscapeweb-svg.js"></script>
		<script type="text/javascript">
		
			var basicStyle = {
				global: {
					backgroundColor: "#eeeeee"
				},
				nodes: {
					size: 16,
					color: "#f5f5f5",
					borderColor: "#666666",
					borderWidth: 3,
					opacity: 1,
				},
				edges: {
					color: "#999999",
					width: 3,
					opacity: 0.8,
				}
			}
		
			var demoStyle = {
				global: {
					backgroundColor: "#fcfcfc"
				},
				nodes: {		
					color: "#cccccc",
					size: 14,
					borderWidth: 2,
					borderColor: "#707070"
				},
				edges: {
					color: "#0b94b1",
					width: 2
				}
			}
			
			var darkStyle = {
				global: {
					backgroundColor: "#202020"
				},
				nodes: {
					color: "#d0d0d0",
					opacity: 0.8,
					borderWidth: 4,
					borderColor: "#f8f8f8",
				},
				edges: {
					color: "#ffffff",
					opacity: 0.7,
					width: 4
				}
			}
			
			var simpleGraph = {
				nodes: [
					{id: "n1", x: 220, y: 30},
					{id: "n2", x: 0, y: 97},
					{id: "n3", x: 54, y: 185},
					{id: "n4", x: 200, y: 191},
					{id: "n5", x: 210, y: 254},
					{id: "n6", x: 60, y: -5},
					{id: "n7", x: 280, y: 170}
				],
				edges: [
					{id: "e1", source: "n1", target: "n2", style: {forwardArrowShape: "DELTA"}},
					{id: "e2", source: "n2", target: "n1", style: {forwardArrowShape: "DELTA"}},
					{id: "e3", source: "n1", target: "n3", style: {forwardArrowShape: "DELTA"}},
					{id: "e4", source: "n2", target: "n3", style: {forwardArrowShape: "DELTA"}},
					{id: "e5", source: "n4", target: "n5", style: {forwardArrowShape: "DELTA"}},
					{id: "e6", source: "n5", target: "n2", style: {forwardArrowShape: "DELTA"}},
					{id: "e7", source: "n3", target: "n5", style: {forwardArrowShape: "DELTA"}},
					{id: "e8", source: "n1", target: "n4", style: {forwardArrowShape: "DELTA"}},
					{id: "e9", source: "n3", target: "n4", style: {forwardArrowShape: "DELTA"}},
					{id: "e10", source: "n4", target: "n6", style: {forwardArrowShape: "DELTA"}},
					{id: "e11", source: "n6", target: "n4",  style: {forwardArrowShape: "DELTA"}},
					{id: "e12", source: "n3", target: "n6", style: {forwardArrowShape: "DELTA"}},
					{id: "e14", source: "n4", target: "n7", style: {forwardArrowShape: "DELTA", backwardArrowShape: "DELTA"}},
					{id: "e13", source: "n4", target: "n7", style: {forwardArrowShape: "DELTA"}},
					{id: "e15", source: "n7", target: "n4", style: {forwardArrowShape: "DELTA"}},
					
					
				]
			}
		
			var petersenGraph = {
				nodes: [
					{id: "nw2", x: -27, y: 97},
					{id: "sw2", x: 24, y: 255},
					{id: "se2", x: 210, y: 254},
					{id: "ne2", x: 254, y: 90},
					{id: "n2", x: 109, y: -10},
					{id: "sw", x: 73, y: 190},
					{id: "se", x: 154, y: 190},
					{id: "nw", x: 46, y: 115},
					{id: "ne", x: 176, y: 113},
					{id: "n", x: 109, y: 65}
				],
				edges: [
					{id: "e1", source: "nw2", target: "n2"},
					{id: "e2", source: "nw2", target: "nw"},
					{id: "e4", source: "sw2", target: "nw2"},
					{id: "e5", source: "sw2", target: "sw"},
					{id: "e6", source: "se2", target: "sw2"},
					{id: "e7", source: "se2", target: "se"},
					{id: "e8", source: "ne2", target: "se2"},
					{id: "e9", source: "ne2", target: "ne"},
					{id: "e10", source: "n2", target: "ne2"},
					{id: "e11", source: "n2", target: "n"},
					{id: "e12", source: "sw", target: "se"},
					{id: "e13", source: "nw", target: "sw"},
					{id: "e14", source: "nw", target: "se"},
					{id: "e15", source: "nw", target: "ne"},
					{id: "e16", source: "ne", target: "sw"},
					{id: "e17", source: "ne", target: "se"},
					{id: "e18", source: "n", target: "sw"},
					{id: "e19", source: "n", target: "se"},
					{id: "e20", source: "n", target: "nw"},
					{id: "e21", source: "n", target: "ne"},
				]	
			}
			
			var ringGraph = {
				"nodes": [
					{"id":"n1","x":31,"y":150,"style":{size: 32, color: "teal", shape: "DIAMOND"}},
					{"id":"n2","x":57,"y":44,"style":{size: 26, color: "pink"}},
					{"id":"n3","x":171,"y":28,"style":{size: 16, borderColor: "green", shape: "RECTANGLE"}},
					{"id":"n4","x":251,"y":132,"style":{size: 10, borderColor: "blue", shape: "DIAMOND"}},
					{"id":"n5","x":156,"y":220,"style":{borderColor: "red"}}
				],
				"edges": [
					{"id":"e1","source":"n1","target":"n2","style":{forwardArrowShape: "DELTA"}},
					{"id":"e2","source":"n2","target":"n3","style":{forwardArrowShape: "DELTA", backwardArrowShape: "DELTA"}},
					{"id":"e3","source":"n3","target":"n4","style":{color: "red", width: 1}},
					{"id":"e4","source":"n4","target":"n5","style":{forwardArrowShape: "DELTA", color: "blue", width: 5}},
					{"id":"e5","source":"n5","target":"n4","style":{forwardArrowShape: "DELTA", width: 5}},
					{"id":"e6","source":"n5","target":"n1","style":{}}
				]
			}
			var vis;
			window.onload = function() {
				vis = new Visualization("container-div");
				load(simpleGraph);
				setstyle(basicStyle);
			}
			
			function load(graph) {
				vis.loadGraph(graph);
				var nodes = vis.getNodes();
				
				var clickEvent = function() {
					alert("Clicked node '" + this._id + "' at " + this._x + ", " + this._y);
				}
				
				for (var i = 0; i < nodes.length; i++) {
					nodes[i].addListener("click", clickEvent);
				}
				vis.draw();
			}
			
			function setstyle(style) {
				vis.loadStyles(style);
				vis.draw();
			}

			
				

		</script>
	</head>
	<body>
		<div id="page">
			<h1>Cytoscape Web &mdash; SVG</h1>
			<p>By Marek Zaluski for GSoC 2011</p>
			<div id="container-div"></div>
			Load graph:
			<select>
				<option onclick="load(simpleGraph)">Simple graph</option>
				<option onclick="load(petersenGraph)">Petersen graph</option>
				<option onclick="load(ringGraph)">Style demo</option>
			</select>
			Load style:
			<select>
				<option onclick="setstyle(basicStyle)">Basic Style</option>
				<option onclick="setstyle(demoStyle)">Classic Style</option>
				<option onclick="setstyle(darkStyle)">Dark style</option>
				
			</select>
			
		</div>
	</body>
</html>