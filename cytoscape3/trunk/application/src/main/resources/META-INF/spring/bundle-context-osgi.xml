<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:osgi="http://www.springframework.org/schema/osgi"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                      http://www.springframework.org/schema/osgi http://www.springframework.org/schema/osgi/spring-osgi-1.0.xsd"
	default-lazy-init="false">

	<!-- Import OSGi services -->
	<osgi:reference id="cyNetworkFactoryServiceRef"
		interface="org.cytoscape.model.CyNetworkFactory">
	</osgi:reference>

	<osgi:reference id="cyRootNetworkFactoryServiceRef"
		interface="org.cytoscape.model.subnetwork.CyRootNetworkFactory">
	</osgi:reference>

	<osgi:reference id="vmmServiceRef"
		interface="org.cytoscape.vizmap.VisualMappingManager" />

	<osgi:reference id="graphViewFactoryServiceRef"
		interface="org.cytoscape.view.GraphViewFactory">
	</osgi:reference>

	<osgi:reference id="cyReaderManagerServiceRef"
		interface="org.cytoscape.io.read.CyReaderManager">
	</osgi:reference>

	<osgi:reference id="cyLayoutsServiceRef" interface="org.cytoscape.layout.CyLayouts">
	</osgi:reference>

	<osgi:reference id="undoSupportServiceRef" interface="org.cytoscape.work.UndoSupport">
	</osgi:reference>

	<osgi:reference id="cyEventHelperServiceRef" interface="org.cytoscape.event.CyEventHelper">
	</osgi:reference>

	<osgi:reference id="creditScreenServiceRef" interface="org.cytoscape.splash.CreditScreen">
	</osgi:reference>

	<!-- define services that application provides -->

	<!-- Props are manages in this service -->
	<osgi:service id="cyOperatingContextService" ref="cyOperatingContext"
		interface="cytoscape.CyOperatingContext" />

	<osgi:service id="cyMenusService" ref="cytoscapeMenus"
		interface="cytoscape.view.CyMenus" />

	<osgi:service id="proxyHandlerService" ref="proxyHandler">
		<osgi:interfaces>
			<value>cytoscape.util.ProxyHandler</value>
			<value>cytoscape.events.PreferencesUpdatedListener</value>
		</osgi:interfaces>
	</osgi:service>

	<osgi:service id="openBrowserService" ref="openBrowser"
		interface="cytoscape.util.OpenBrowser" />

	<osgi:service id="importGraphFileActionService" ref="importGraphFileAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="newWindowSelectedNodesOnlyActionService"
		ref="newWindowSelectedNodesOnlyAction" interface="cytoscape.util.CyAction" />

	<osgi:service id="newSessionActionService" ref="newSessionAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="newWindowSelectedNodesEdgesActionService"
		ref="newWindowSelectedNodesEdgesAction" interface="cytoscape.util.CyAction" />
	<osgi:service id="cloneGraphInNewWindowActionService" ref="cloneGraphInNewWindowAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="newNetworkActionService" ref="newNetworkAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="printActionService" ref="printAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="exitActionService" ref="exitAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="undoActionService" ref="undoAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="redoActionService" ref="redoAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="createNetworkViewActionService" ref="createNetworkViewAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="destroyNetworkViewActionService" ref="destroyNetworkViewAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="destroyNetworkActionService" ref="destroyNetworkAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="deleteActionService" ref="deleteAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="preferenceActionService" ref="preferenceAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="bookmarkActionService" ref="bookmarkAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="proxyServerActionService" ref="proxyServerAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="invertSelectedNodesActionService" ref="invertSelectedNodesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="hideSelectedNodesActionService" ref="hideSelectedNodesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="unHideSelectedNodesActionService" ref="unHideSelectedNodesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="selectAllNodesActionService" ref="selectAllNodesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="deSelectAllNodesActionService" ref="deSelectAllNodesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="selectFirstNeighborsActionService" ref="selectFirstNeighborsAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="selectConnectedNodesActionService" ref="selectConnectedNodesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="alphabeticalSelectionActionService" ref="alphabeticalSelectionAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="listFromFileSelectionActionService" ref="listFromFileSelectionAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="invertSelectedEdgesActionService" ref="invertSelectedEdgesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="hideSelectedEdgesActionService" ref="hideSelectedEdgesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="unHideSelectedEdgesActionService" ref="unHideSelectedEdgesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="selectAllEdgesActionService" ref="selectAllEdgesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="selectAdjacentEdgesActionService" ref="selectAdjacentEdgesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="deSelectAllEdgesActionService" ref="deSelectAllEdgesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="bendSelectedEdgesActionService" ref="bendSelectedEdgesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="straightenSelectedEdgesActionService"
		ref="straightenSelectedEdgesAction" interface="cytoscape.util.CyAction" />
	<osgi:service id="selectAllActionService" ref="selectAllAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="deselectAllActionService" ref="deselectAllAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="showGraphicsDetailsActionService" ref="showGraphicsDetailsAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="setVisualPropertiesActionService" ref="setVisualPropertiesAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="settingsActionService" ref="settingsAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="helpContentsActionService" ref="helpContentsAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="helpContactHelpDeskActionService" ref="helpContactHelpDeskAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="helpAboutActionService" ref="helpAboutAction"
		interface="cytoscape.util.CyAction" />

	<osgi:service id="cytoPanelWestActionService" ref="cytoPanelWestAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="cytoPanelSouthActionService" ref="cytoPanelSouthAction"
		interface="cytoscape.util.CyAction" />

	<osgi:service id="cytoPanelEastActionService" ref="cytoPanelEastAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="zoomOutActionService" ref="zoomOutAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="zoomInActionService" ref="zoomInAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="zoomSelectedActionService" ref="zoomSelectedAction"
		interface="cytoscape.util.CyAction" />
	<osgi:service id="fitContentActionService" ref="fitContentAction"
		interface="cytoscape.util.CyAction" />

	<osgi:set id="cyActionSet" interface="cytoscape.util.CyAction"
		cardinality="0..N">
		<osgi:listener bind-method="addAction" unbind-method="removeAction"
			ref="cytoscapeMenus" />
	</osgi:set>

	<!--
		Finally, Export Cytoscape Desktop itself as a service. Other desktop
		components (like VizMapper GUI) can use it through DI
	-->
	<osgi:service id="cytoscapeDesktopService" ref="cytoscapeDesktop"
		interface="cytoscape.view.CySwingApplication" />

	<osgi:service id="cyNetworkManagerService" ref="networkManager"
		interface="cytoscape.CyNetworkManager" />

	<!-- register listener services -->
	<osgi:service id="networkPanelSelectedNodesListenerService"
		ref="networkPanel" interface="org.cytoscape.model.events.SelectedNodesListener" />
	<osgi:service id="networkPanelSelectedEdgesListenerService"
		ref="networkPanel" interface="org.cytoscape.model.events.SelectedEdgesListener" />
	<osgi:service id="networkPanelUnselectedNodesListenerService"
		ref="networkPanel" interface="org.cytoscape.model.events.UnselectedNodesListener" />
	<osgi:service id="networkPanelUnselectedEdgesListenerService"
		ref="networkPanel" interface="org.cytoscape.model.events.UnselectedEdgesListener" />
	<osgi:service id="networkPanelSetCurrentNetworkViewListenerService"
		ref="networkPanel" interface="cytoscape.events.SetCurrentNetworkViewListener" />
	<osgi:service id="networkPanelSetCurrentNetworkListenerService"
		ref="networkPanel" interface="cytoscape.events.SetCurrentNetworkListener" />
	<osgi:service id="networkPanelNetworkAddedListenerService"
		ref="networkPanel" interface="cytoscape.events.NetworkAddedListener" />
	<osgi:service id="networkPanelNetworkViewAddedListenerService"
		ref="networkPanel" interface="cytoscape.events.NetworkViewAddedListener" />
	<osgi:service id="networkPanelNetworkAboutToBeDestroyedListenerService"
		ref="networkPanel" interface="cytoscape.events.NetworkAboutToBeDestroyedListener" />
	<osgi:service
		id="networkPanelNetworkViewAboutToBeDestroyedListenerService" ref="networkPanel"
		interface="cytoscape.events.NetworkViewAboutToBeDestroyedListener" />

	<osgi:service id="networkViewManagerNetworkViewAddedListenerService"
		ref="networkViewManager" interface="cytoscape.events.NetworkViewAddedListener" />
	<osgi:service
		id="networkViewManagerNetworkViewAboutToBeDestroyedListenerService"
		ref="networkViewManager" interface="cytoscape.events.NetworkViewAboutToBeDestroyedListener" />
	<osgi:service id="networkViewManagerSetCurrentNetworkViewListenerService"
		ref="networkViewManager" interface="cytoscape.events.SetCurrentNetworkViewListener" />
	<osgi:service id="networkViewManagerSetCurrentNetworkListenerService"
		ref="networkViewManager" interface="cytoscape.events.SetCurrentNetworkListener" />

	<osgi:service id="birdsEyeViewHandlerSetCurrentNetworkViewListenerService"
		ref="birdsEyeViewHandler" interface="cytoscape.events.SetCurrentNetworkViewListener" />
	<osgi:service id="birdsEyeViewHandlerSetCurrentNetworkListenerService"
		ref="birdsEyeViewHandler" interface="cytoscape.events.SetCurrentNetworkListener" />
	<osgi:service id="birdsEyeViewHandlerNetworkViewDestroyedListenerService"
		ref="birdsEyeViewHandler" interface="cytoscape.events.NetworkViewDestroyedListener" />

	<osgi:service id="undoMonitorSetCurrentNetworkViewListenerService"
		ref="undoMonitor" interface="cytoscape.events.SetCurrentNetworkViewListener" />

	<osgi:service id="aboutDialogFactoryService" ref="aboutDialogFactory"
		interface="cytoscape.dialogs.AboutDialogFactory" />

	<osgi:service id="fileUtilService" ref="fileUtil"
		interface="cytoscape.util.FileUtil" />

</beans>
