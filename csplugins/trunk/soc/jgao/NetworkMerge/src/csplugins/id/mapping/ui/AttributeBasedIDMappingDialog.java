/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * AttributeBasedIDMappingDialog.java
 *
 * Created on Jul 22, 2008, 1:41:43 PM
 */

package csplugins.id.mapping.ui;

import csplugins.id.mapping.model.AttributeBasedIDMappingModel;
import csplugins.id.mapping.model.AttributeBasedIDMappingModelImpl;

import java.util.Map;
import java.util.Set;

import java.awt.Frame;

/**
 *
 * @author gjj
 */
public class AttributeBasedIDMappingDialog extends javax.swing.JDialog {

    /** Creates new form AttributeBasedIDMappingDialog */
    public AttributeBasedIDMappingDialog(java.awt.Frame parent,
                                boolean modal,
                                Map<String,Set<String>> selectedNetworkAttribute,
                                boolean isNode) {
        super(parent, modal);
        this.frame = parent;
        this.selectedNetworkAttribute = selectedNetworkAttribute;
        this.isNode = isNode;

        idMapping = new AttributeBasedIDMappingModelImpl();

        initComponents();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
        // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
        private void initComponents() {
                java.awt.GridBagConstraints gridBagConstraints;

                idMappingPane = new javax.swing.JTabbedPane();
                optionPanel = new javax.swing.JPanel();
                optionButton = new javax.swing.JButton();
                previewButton = new javax.swing.JButton();
                javax.swing.JPanel okPanel = new javax.swing.JPanel();
                cancelButton = new javax.swing.JButton();
                okButton = new javax.swing.JButton();

                setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
                setTitle("ID Mapping");
                getContentPane().setLayout(new java.awt.GridBagLayout());

                idMappingPane.setMinimumSize(new java.awt.Dimension(400, 400));
                idMappingPane.setPreferredSize(new java.awt.Dimension(600, 600));

                idMappingFilePanel = new AttributeBasedIDMappingFilePanel(frame,this,selectedNetworkAttribute,isNode);
                idMappingPane.addTab("From file", idMappingFilePanel);

                gridBagConstraints = new java.awt.GridBagConstraints();
                gridBagConstraints.gridx = 0;
                gridBagConstraints.gridy = 0;
                gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
                gridBagConstraints.weightx = 1.0;
                gridBagConstraints.weighty = 1.0;
                gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
                getContentPane().add(idMappingPane, gridBagConstraints);

                optionPanel.setLayout(new javax.swing.BoxLayout(optionPanel, javax.swing.BoxLayout.LINE_AXIS));

                //optionDialog = new NetworkMergeOptionDialog(frame,true);
                //optionDialog.pack();
                optionButton.setText("Options");
                optionButton.setToolTipText("Click to set up options");
                optionButton.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                optionButtonActionPerformed(evt);
                        }
                });
                optionPanel.add(optionButton);

                previewButton.setText("Preview");
                previewButton.setEnabled(false);
                optionPanel.add(previewButton);

                gridBagConstraints = new java.awt.GridBagConstraints();
                gridBagConstraints.gridx = 0;
                gridBagConstraints.gridy = 1;
                gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_START;
                gridBagConstraints.weightx = 1.0;
                gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
                getContentPane().add(optionPanel, gridBagConstraints);

                okPanel.setLayout(new javax.swing.BoxLayout(okPanel, javax.swing.BoxLayout.LINE_AXIS));

                cancelButton.setText("Cancel");
                cancelButton.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                cancelButtonActionPerformed(evt);
                        }
                });
                okPanel.add(cancelButton);

                okButton.setText("   OK   ");
                okButton.setToolTipText("\"Select at least two networks to merge\"");
                okButton.setEnabled(false);
                okButton.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                                okButtonActionPerformed(evt);
                        }
                });
                okPanel.add(okButton);

                gridBagConstraints = new java.awt.GridBagConstraints();
                gridBagConstraints.gridx = 0;
                gridBagConstraints.gridy = 1;
                gridBagConstraints.anchor = java.awt.GridBagConstraints.LINE_END;
                gridBagConstraints.weightx = 1.0;
                gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
                getContentPane().add(okPanel, gridBagConstraints);

                pack();
        }// </editor-fold>//GEN-END:initComponents

    private void optionButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_optionButtonActionPerformed
            //optionDialog.setLocationRelativeTo(this);
            //optionDialog.setVisible(true);
    }//GEN-LAST:event_optionButtonActionPerformed

    private void cancelButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelButtonActionPerformed
            setVisible(false);
    }//GEN-LAST:event_cancelButtonActionPerformed

    private void okButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_okButtonActionPerformed
            cancelled = false;
            setVisible(false);
    }//GEN-LAST:event_okButtonActionPerformed

public boolean isCancelled() {
    return cancelled;
}

public AttributeBasedIDMappingModel getIDMapping() {
        return this.idMapping;
}

void setOKButtonEnable(boolean enable) {
        okButton.setEnabled(enable);
}


        // Variables declaration - do not modify//GEN-BEGIN:variables
        private javax.swing.JButton cancelButton;
        private javax.swing.JTabbedPane idMappingPane;
        private AttributeBasedIDMappingFilePanel idMappingFilePanel;
        private javax.swing.JButton okButton;
        private javax.swing.JButton optionButton;
        //private NetworkMergeOptionDialog optionDialog;
        private javax.swing.JPanel optionPanel;
        private javax.swing.JButton previewButton;
        // End of variables declaration//GEN-END:variables

        private boolean cancelled;
        private Frame frame;
        private Map<String,Set<String>> selectedNetworkAttribute;
        private AttributeBasedIDMappingModel idMapping;
        private boolean isNode;
}
