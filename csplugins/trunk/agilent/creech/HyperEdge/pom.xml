<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>


  <groupId>cytoscape.hyperedge</groupId>
  <artifactId>HyperEdge</artifactId>
<!-- We'd like to just pass in a 'version' parameter, but passing in something like '-Dversion=2.63' throws 
     a NPE in maven, so we instead use 'my-version': -->
<!--  <version>2.6x-SNAPSHOT</version> -->
  <version>${my-version}</version>
  <packaging>jar</packaging>

  <name>HyperEdge</name>

  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <!-- The default is to build the SNAPSHOT if no repo-type param is present: -->
     <repo-type>snapshot</repo-type>
     <repo-name>Ramblas Snaphots</repo-name>
     <repo-url>http://ramblas.scs.agilent.com:8081/nexus/content/repositories/snapshots</repo-url>
     <repo-unique>false</repo-unique>
  </properties>

  <profiles>
    <profile>
      <id>release</id>
      <activation>
        <property>
          <name>repo-type</name>
          <value>release</value>
        </property>
      </activation>
      <properties>
	<repo-name>Ramblas Releases</repo-name>
	<repo-url>http://ramblas.scs.agilent.com:8081/nexus/content/repositories/releases</repo-url>
	<repo-unique>true</repo-unique>
      </properties>
    </profile>
  </profiles>

  <build>
    <plugins>
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
	<version>2.3.2</version>
        <configuration>
          <source>1.6</source>
          <target>1.6</target>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-surefire-plugin</artifactId>
	<version>2.8.1</version>
        <configuration>
	  <!-- We fork for each test to avoid possible test interations between tests
	       (especially EventTest): -->
          <forkMode>pertest</forkMode>
	  <excludes>
	    <!-- Don't execute TestBase (a base class) as a separate test: -->
	    <exclude>**/TestBase.java</exclude>
	  </excludes>
        </configuration>
      </plugin>
    <plugin>
      <!-- running maven javadoc:javadoc will produce javadocs in target/apidocs -->
        <artifactId>maven-javadoc-plugin</artifactId>
        <version>2.7</version>
	<!-- bind to the install phase: -->
	<executions>
	   <execution>
	      <phase>install</phase>
	      <goals>
  	        <goal>javadoc</goal>
	      </goals>
	   </execution>
	</executions>
        <configuration>
          <encoding>UTF-8</encoding>
          <locale>en</locale>
          <javadocVersion>1.6</javadocVersion>
	  <reportOutputDirectory>${project.build.directory}</reportOutputDirectory>
          <destDir>apidocs</destDir>
          <links>
            <link>http://download.oracle.com/javase/1.6.0/docs/api/</link>
          </links>
          <footer>HyperEdge ${project.version} API</footer>
          <header>HyperEdge ${project.version} API</header>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <repositories>
    <repository>
      <id>ramblas_releases</id>
      <name>Ramblas Releases</name>
      <url>http://ramblas.scs.agilent.com:8081/nexus/content/repositories/releases</url>
      <snapshots>
         <enabled>false</enabled>
      </snapshots>
      <releases>
        <enabled>true</enabled>
      </releases>
    </repository>
    <repository>
      <id>ramblas_snapshots</id>
      <name>Ramblas Snapshots</name>
      <url>http://ramblas.scs.agilent.com:8081/nexus/content/repositories/snapshots</url>
      <snapshots>
         <enabled>true</enabled>
      </snapshots>
      <releases>
        <enabled>false</enabled>
      </releases>
    </repository>
  </repositories>

  <dependencies>
    <dependency>
      <groupId>cytoscape</groupId>
      <artifactId>cytoscape</artifactId>
      <version>2.8.1</version>
      <!-- At runtime, we don't need to include Cytoscape since it is already there: -->
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>com.agilent.labs.lsiutils</groupId>
      <artifactId>LSIUtils</artifactId>
      <version>0.1x-SNAPSHOT</version>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.8.2</version>
      <scope>test</scope>
    </dependency>
  </dependencies>
  <distributionManagement>
    <repository>
      <id>ramblas_deployment</id>
      <name>${repo-name}</name>
      <url>${repo-url}</url>
      <!-- keep replacing the snapshot-don't save unique versions of each snapshot released -->
      <uniqueVersion>${repo-unique}</uniqueVersion>
    </repository>
  </distributionManagement>
</project>
