<project name="plot2d" default="runWithCytoscape" basedir="../../../../">


    <description>
        build file for Plotter (csplugins.isb.dtenenbaum.plot2d)
    </description>
  <!-- set global properties for this build -->
  <property name="src" location="."/>
  <property name="pkg" location="csplugins/isb/dtenenbaum/plot2d"/>
  <property name="pkg_name" value="csplugins/isb/dtenenbaum/plot2d"/>
  <property name="pkg.name" value="csplugins.isb.dtenenbaum.plot2d"/>
  <property name="datacube" value="csplugins/isb/pshannon/dataMatrix"/>

<!-- this file contains the value of cytoscape.location which
     is the full path to a jar or class directory. it also contains
     various paths to libraries needed by datamatrix -->
<property file="${pkg}/build.properties"/>

  
  
<property name="global_lib" location="csplugins/lib"/>

  <property name="build"  location="${pkg}/build"/>
  <property name="lib"  location="${pkg}/lib"/>
  <property name="dist"  location="."/>
  

   <path id="project.class.path">
           <pathelement location="${java.class.path}"/>
           <pathelement location="${lib}/jcommon-0.9.5.jar"/>
           <pathelement location="${lib}/jfreechart-0.9.20.jar"/>
           <pathelement location="${dist}"/>
           <pathelement location="${bin}"/>
           <pathelement location="${bin}"/>
           <pathelement location="${cytoscape.location}"/>
           <pathelement location="${global_lib}/cyto-aux.jar"/>
           <pathelement location="${jython.jar.location}/jython.jar"/>
           <pathelement location="${spyconsole.jar.location}/spyconsole.jar"/>
           <pathelement location="${y.jar.location}/y.jar"/>
           <pathelement location="${jnlp.jar.location}/jnlp.jar"/>
           <pathelement location="${junit.jar.location}/junit.jar"/>
           <pathelement location="${giny.jar.location}/giny.jar"/>
	   
  </path>

  

  <target name="init">
    <!-- Create the time stamp -->
    <tstamp/>
    <!-- Create the build directory structure used by compile -->
  </target>




  <target name="compile" depends="init"
        description="compile the source " >
    <!-- Compile the java code from ${src} into ${build} -->
    <mkdir dir="${build}"/>
    <javac deprecation="on" sourcepath="" srcdir="." destdir="${build}"
       includes="csplugins/isb/pshannon/dataMatrix/**,
       csplugins/isb/dtenenbaum/plot2d/**,csplugins/isb/pshannon/cyInterface/**"
       excludes="csplugins/isb/dtenenbaum/plot2d/test/TestPlotter.*">
    	<classpath refid="project.class.path"/>
    </javac>
  </target>
  
  <!-- <target name="mkpluginjar"/> -->

  <target name="run"  depends="compile"
        description="run the test program" >
    <java  classname="${pkg.name}.test.TestPlotter" fork="true">
    	<classpath refid="project.class.path"/>
    </java>
  </target>


  <target name="runMatrixTest"  depends="compile"
        description="run the program that tests the plotter with DataMatrix ctor" >
    <java  classname="${pkg.name}.test.TestPlotterWithMatrix" fork="true">
    	<classpath refid="project.class.path"/>
    </java>
  </target>

  <target name="runWithCytoscape" depends="compile"
    description="Run cytoscape with the datacube browser available">
      <java classname="cytoscape.cytoscape" fork="true"
        dir="${pkg}/test">
        <classpath refid="project.class.path"/>
        <arg value="-p"/>
        <arg value="project"/>
        <arg value="--matrix"/>
        <arg value="matrix.expression"/>
      </java>
  </target>


  <target name="clean"
        description="clean up" >
  </target>
</project>
