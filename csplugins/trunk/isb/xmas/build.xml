<project name="xmas" default="usage" basedir=".">

  <!-- =================================================================== -->
  <!-- Initialization target                                               -->
  <!-- =================================================================== -->
  <target name="init">
    <tstamp/>
    <property name="Name" value="Rowan Christmas Plugins"/>
    <property name="name" value="xmas"/>
    <property name="version" value="0.1"/>
    <property name="year" value="2004"/>

    <echo message="Building ${name} version ${version}."/>

    <!-- Properties to be inherited by subprojects -->
    <property name="xmas.root.dir" value="./"/>
    <property name="debug" value="on"/>
    <property name="optimize" value="off"/>
    <property name="deprecation" value="on"/>
    <property name="fork" value="false"/>
    <property name="javadoc.dir" value="${xmas.root.dir}/doc/api"/>
    <property name="shared.lib.dir" value="${xmas.root.dir}/lib"/>
    <path id="project.class.path">
      <pathelement path="${java.class.path}/"/>
    </path>

    <!-- Define excludes for javadoc -->
    <property name="packages.excludes" value="**.test.*,**.notyet.*"/>

    <filter token="year" value="${year}"/>
    <filter token="version" value="${version}"/>
    <filter token="date" value="${TODAY}"/>
  </target>

  <!-- =================================================================== -->
  <!-- Help on usage                                                       -->
  <!-- =================================================================== -->
  <target name="usage">
    <echo message="--------------------------------------------------"/>
    <echo message=" Rowan Christmas Plugins "/>
    <echo message="       Build System      "/>
    <echo message="--------------------------------------------------"/>
    <echo message="  Usage:"/>
    <echo message="     build &lt;target&gt;+"/>
    <echo message=""/>
    <echo message=" Available targets are:"/>
    <echo message="   all        -> creates all the jars"/>
    <echo message="   control    -> Compile the Control plugin"/>
    <echo message="   filter     -> Compile the Filter plugin"/>
    <echo message="   rowan     -> Compile the Rowan plugin"/>
    <echo message="   browser     -> Compile the Browser plugin"/>
    <echo message="   loader     -> Compile the Loader plugin"/>
    <echo message="   clean      -> restores the project to its"/>
    <echo message="                 original and clean state"/>
    <echo message="   usage      -> (default) displays this screen"/>
    <echo message="--------------------------------------------------"/>
    <echo message=" See also the build.xml file header for more help."/>
    <echo message="--------------------------------------------------"/>
  </target>


  <!-- =================================================================== -->
  <!-- Create the rowan/rowan.jar file                                   -->
  <!-- =================================================================== -->
  <target name="rowan" depends="init">
    <ant dir="rowan" target="rowan"/>
    <copy todir="${shared.lib.dir}" file="rowan/rowan.jar"/>
  </target>

  <!-- =================================================================== -->
  <!-- Clean the rowan directory                                          -->
  <!-- =================================================================== -->
  <target name="clean-rowan" depends="init">
    <ant dir="rowan" target="clean"/>
  </target>


  <!-- =================================================================== -->
  <!-- Create the browser/browser.jar file                                   -->
  <!-- =================================================================== -->
  <target name="browser" depends="exesto">
    <ant dir="browser" target="browser"/>
    <copy todir="${shared.lib.dir}" file="browser/browser.jar"/>
  </target>

  <!-- =================================================================== -->
  <!-- Clean the browser directory                                          -->
  <!-- =================================================================== -->
  <target name="clean-browser" depends="init">
    <ant dir="browser" target="clean"/>
  </target>


  <!-- =================================================================== -->
  <!-- Create the loader/loader.jar file                                   -->
  <!-- =================================================================== -->
  <target name="loader" depends="exesto">
    <ant dir="loader" target="loader"/>
    <copy todir="${shared.lib.dir}" file="loader/loader.jar"/>
  </target>

  <!-- =================================================================== -->
  <!-- Clean the loader directory                                          -->
  <!-- =================================================================== -->
  <target name="clean-loader" depends="init">
    <ant dir="loader" target="clean"/>
  </target>
  

  <!-- =================================================================== -->
  <!-- Create the exesto/exesto.jar file                                   -->
  <!-- =================================================================== -->
  <target name="exesto" depends="init">
    <ant dir="exesto" target="exesto"/>
    <copy todir="${shared.lib.dir}" file="exesto/exesto.jar"/>
  </target>

  <!-- =================================================================== -->
  <!-- Clean the exesto directory                                          -->
  <!-- =================================================================== -->
  <target name="clean-exesto" depends="init">
    <ant dir="exesto" target="clean"/>
  </target>


  <!-- =================================================================== -->
  <!-- Create the filter/filter.jar file                                   -->
  <!-- =================================================================== -->
  <target name="filter" depends="init">
    <ant dir="filter" target="filter"/>
    <copy todir="${shared.lib.dir}" file="filter/filter.jar"/>
  </target>

  

  <!-- =================================================================== -->
  <!-- Clean the filter directory                                          -->
  <!-- =================================================================== -->
  <target name="clean-filter" depends="init">
    <ant dir="filter" target="clean"/>
  </target>


  <!-- =================================================================== -->
  <!-- Clean up, get back to original state                                -->
  <!-- =================================================================== -->
  <target name="clean" depends="clean-browser, clean-filter, clean-rowan, clean-exesto,clean-loader"/>

</project>

<!-- End of file -->
