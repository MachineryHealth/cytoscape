%!PS-Adobe-2.0
%%Title: mlabel
%%Creator: jdvi2kps
%%Pages: (atend)
%%PageOrder: Ascend
%%EndComments
%%BeginDocument: /usr/local/TeX/lib/jdvi2.ps
%!PS-Adobe-2.0
%%Title: jtex.ps
%%Creator: T.Kakiuchi
%%EndComments
%
%		for use by jdvi2kps Version 3.00
%		$Id: jdvi2.ps,v 1.24 1993/10/24 08:06:33 kakiuchi Exp $
% a start (Ha!) at a TeX mode for PostScript.
% The following defines procedures assumed and used by program "jdvi2kps"
% and must be downloaded or sent as a header file for all TeX jobs.

% By:  Neal Holtz, Carleton University, Ottawa, Canada
%	<holtz@cascade.carleton.cdn>
%	<holtz%cascade.carleton.cdn@ubc.csnet>
%	June, 1985
%	Last Modified: Aug 25/85
% oystr 12-Feb-1986
%   Changed @dc macro to check for a badly formed bits in character
%   definitions.  Can get a <> bit map if a character is not actually
%   in the font file.  This is absolutely guaranteed to drive the
%   printer nuts - it will appear that you can no longer define a
%   new font, although the built-ins will still be there.
% pam 5-Jan-1988 
%   Expanded arrays for 256 character gf fonts.
% oka 9-Feb-1989
%   Kanji Post Script
% kijima 29-May-1993
%   Changed @sp macro to wipe out any objects created by **tray.

% To convert this file into a downloaded file instead of a header
% file, uncomment all of the lines beginning with %-%

%-%0000000 			% Server loop exit password
%-%serverdict begin exitserver
%-%  systemdict /statusdict known
%-%  {statusdict begin 9 0 3 setsccinteractive /waittimeout 300 def end}
%-% if

/TeXDict 65 dict def
TeXDict begin

systemdict /setpacking known
{/savepacking currentpacking def
 true setpacking		% set packing mode true
} if

% Define working dictionary cut 89,03,10

/mm {2.834645669 mul} bind def	% convert mm to big points

%%%%%%%%%%%%%%%%%%%%% Page setup (user) options %%%%%%%%%%%%%%%%%%%%%%%%

% jdvi2kps will output coordinates in the TeX system ([0,0] 1" down and in
% from top left, with y +ive downward).  The default PostScript system
% is [0,0] at bottom left, y +ive up.  The Many Matrix Machinations in
% the following code are an attempt to reconcile that. The intent is to
% specify the scaling as 1 and have only translations in the matrix to
% properly position the text.  Caution: the default device matrices are
% *not* the same in all PostScript devices; that should not matter in most 
% of the code below (except for lanscape mode -- in that, rotations of
% -90 degrees resulted in the the rotation matrix [ e 1 ]
%						  [ 1 e ]
% where the "e"s were almost exactly but not quite unlike zeros.

10 dict begin
/a3	[297 420] def
/a4	[210 297] def
/a4extra	[235.3 322.44] def
/a5	[148.5 210] def
/b4	[257 364] def
/b5	[182 257] def
/letter	[215.9 279.4] def
/note	[215.9 279.4] def	% note is like letter, except it uses less VM
/legal	[215.9 355.6] def
/ledger	[279.4 431.8] def
currentdict
end /PaperDict exch def

% This may be a device (Linotype) dependent procedure.
userdict begin /a4extra {statusdict begin 667 914 1 setpage end} bind def end

/@tm 1 def
/@lm 1 def
/@sp {		% isMirror isLandscape paper-type @sp -
 dup where {pop} {pop /a4} ifelse		% bool bool /a4
 dup dup length string cvs			% bool bool /a4 (a4)
 dup length 4 add string			% bool bool /a4 (a4) (      )
 dup 0 4 -1 roll putinterval			% bool bool /a4 (a4    )
 dup 2 index length (tray) putinterval cvn	% bool bool /a4 /a4tray
 dup statusdict exch known			% bool bool /a4 /a4tray bool
 /@lm @lm 72 mul def				% bool bool /a4 /a4tray bool
 /@tm @tm 72 mul def				% bool bool /a4 /a4tray bool
 % {statusdict begin load stopped end} {pop true} ifelse% bool bool /a4 bool
 {statusdict begin load mark exch stopped
   {cleartomark true} {cleartomark false} ifelse end}
 {pop true} ifelse
 {dup load exec} if initmatrix			% bool bool /a4
 //PaperDict exch get aload pop mm exch mm 3 -1 roll % bool height width bool
 {/PaperHeight exch def /PaperWidth exch def
  /Mtrx [0 1 1 0 @tm @lm] def}
 {/PaperWidth exch def /PaperHeight exch def
  /Mtrx [1 0 0 -1 @lm PaperHeight @tm sub] def} ifelse	% bool
 {/Mtrx [-1 0 0 1 PaperWidth @lm 2 mul sub 0] Mtrx matrix concatmatrix def} if
 /Mtrx 72 Resolution div dup matrix scale Mtrx matrix concatmatrix def
} bind def

/@manualfeed
{statusdict /manualfeed true put} bind def

%%%%%%%%%%%%%%%%%%%% Procedure Defintions %%%%%%%%%%%%%%%%%%%%%%%%%%

/@nf		% @nf -		-- initialize a new font dictionary
{7 dict begin	% allocate new font dictionary
  /FontType 3 def
  /FontMatrix [1 0 0 -1 0 0] def
  /FontBBox [0 0 1 1] def
% pam 5-Jan-1988 array enlarged for gf fonts
  /BitMaps 256 array def
  /BuildChar {CharBuilder} def
  /Encoding 256 array def
  0 1 255 {Encoding exch /.undef put} for
  currentdict
 end
 definefont pop
} bind def


% the following is the only character builder we need.  it looks up the
% char data in the BitMaps array, and paints the character if possible.
% char data  -- a bitmap descriptor -- is an array of length 6, of 
% which the various slots are:

/ch-image  {ch-data 0 get} bind def	% the hex string image
/ch-width  {ch-data 1 get} bind def	% the number of pixels across
/ch-height {ch-data 2 get} bind def	% the number of pixels tall
/ch-xoff   {ch-data 3 get} bind def	% number of pixels below origin
/ch-yoff   {ch-data 4 get} bind def	% number of pixels to left of origin
/ch-tfmw   {ch-data 5 get} bind def	% spacing to next character

/CharBuilder	% fontdict ch-code Charbuilder -	-- image one character
{exch /ch-data 3 1 roll		% [/ch-data][ch-code][fontdict]
 /BitMaps get exch get def	% get the bitmap descriptor for char
 ch-data null ne
 {ch-tfmw 0 ch-xoff neg ch-yoff neg ch-width ch-xoff sub ch-height ch-yoff sub
  setcachedevice
  ch-width ch-height true [1 0 0 1 ch-xoff ch-yoff]
  {ch-image} imagemask
 }
 if
} bind def


/@sf		% fontdict @sf -	-- make that the current font
{findfont setfont} bind def

		% in the following, the font-cacheing mechanism requires that
		% a name unique in the particular font be generated

/@dc	% char-data ch-code @dc -	-- define a new character bitmap in current font
{exch dup 0 get			% [ch-code][char-data][hexstring]
 length 2 lt			% if the length of hexstring < 2 then,
  {pop [<00> 1 1 0 0 8.00]}	% replace <> with null
 if				% [ch-code][char-data]
 currentfont /BitMaps get 2 index 3 -1 roll put	% [ch-code]
 currentfont /Encoding get exch			% [Encoding][ch-code]
 dup (   ) cvs cvn	% generate a unique name simply from the character code
 put
} bind def

/@bop		% @bop -	-- begin the char def section of a new page
{erasepage initgraphics
 Mtrx concat
 /SaveImage save def
} bind def

/@eop		% - @eop -		-- end a page
{showpage
 SaveImage restore
} bind def

/@end		% - @end -		-- done the whole shebang
 /end load def

/p		% x y p -		-- move to position
  /moveto load def

/r		% x r -			-- move right
{0 rmoveto
} bind def

%/s		% string s -		-- show the string
%  /show load def
/dir 0 def
/s		% string s -		-- show the string
{dir 1 eq
 {gsave currentpoint translate 90 rotate 0 0 moveto show grestore}
 {show} ifelse
} bind def

/ru		% dx dy ru -		-- set a rule (rectangle)
{neg		% because dy is height up from bottom
 currentpoint			% dx dy x y
 newpath 2 copy moveto
 3 index 0 rlineto
 0 3 index rlineto
 3 index neg 0 rlineto
 closepath fill
 moveto pop pop
} bind def

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%	the \special command junk
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   The structure of the PostScript produced by jdvi2kps for \special is:
%	@beginspecial
%		- any number of @hsize, @hoffset, @hscale, etc., commands
%	@setspecial
%		- the users file of PostScript commands
%	@endspecial

% The @beginspecial command recognizes whether the Macintosh Laserprep
% has been loaded or not, and redfines some Mac commands if so.
% The @setspecial handles the users shifting, scaling, clipping commands

% The following are user settable options from the \special command.
%	d @hsize -	specify a horizontal clipping dimension
%			these 2 are executed before the MacDraw initializations
/@hsize {/hs exch def /CLIP true def} bind def
/@vsize {/vs exch def /CLIP true def} bind def
%	d @hoffset -	specify a shift for the drwgs
/@hoffset {/ho exch def} bind def
/@voffset {/vo exch def} bind def
%	s @hscale -	set scale factor
/@hscale {/hsc exch def} bind def
/@vscale {/vsc exch def} bind def

% this will be invoked as the result of a \special command (for the
% inclusion of PostScript graphics).  The basic idea is to change all
% scaling and graphics back to defaults, but to shift the origin
% to the current position on the page.

/@beginspecial		% mag @beginspecial -	-- enter special mode
{currentpoint		% Dirty trick for NeWSprint BUG!!!
 /SpecialSave save def
 moveto

 % set new origin
 currentpoint translate 
 % revert to PostScript Points
 Resolution mul 72 div dup neg scale

 /hs 8.5 Resolution mul def	/vs 11 Resolution mul def
 /ho 0 def			/vo 0 def
 /hsc 1 def			/vsc 1 def
 /CLIP false def

 userdict begin		% The followings must be stored in userdict
 % define some stuff to do nothing
 /showpage {} def	/erasepage {} def	/copypage {} def
 /letter {} def		/note {} def		/legal {} def
 /ledger {} def		/11x17 {} def
 /a3 {} def		/a4 {} def	/b4 {} def	/b5 {} def

 % prevents macdraw from blowing out
 statusdict /waittimeout known {statusdict /waittimeout 300 put} if

 % neuter flushfile
 %   make it look for % % E O F instead
 %   doesn't work for input files...
 /flushfile
 {0				% push current state
  {1 index read not {exit} if	% read a character, quit if end of file
   (% % E O F) 2 index 2 mul get eq	% character we want?
   {1 add}			% then bump state
   {pop 0} ifelse		% else reset state
   dup 5 eq {exit} if
  } loop
  pop pop				% get rid of file designator and state
 } def

 % force the default matrix to really be the current matrix
 % after the offset and scaling
 /initmatrix {xinitmatrix setmatrix} def
 /defaultmatrix {xinitmatrix exch copy} def

 % force initgraphics to use our initmatrix
 /initgraphics
 {xinitmatrix setmatrix		%local initmatrix; not use initmatrix with bind
  newpath initclip
  1 setlinewidth 0 setlinecap 0 setlinejoin
  [] 0 setdash 0 setgray 10 setmiterlimit}
 def
 end			% pop userdict
} bind def

/@setspecial	% to setup user specified offsets, scales, sizes (for clipping)
{ho vo translate
 hsc vsc scale
 CLIP
 {newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0
  rlineto closepath clip}
 if
 end			% pop TeXDict

 % neuter initmatrix
 /xinitmatrix matrix currentmatrix def
 % inhibit side effects
 newpath
 1 setlinewidth 0 setlinecap 0 setlinejoin
 [] 0 setdash 0 setgray 10 setmiterlimit
} bind def

userdict /@endspecial		% - @endspecial -	-- leave special mode
{clear
 //TeXDict begin
 SpecialSave restore
} bind put


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

/JFontSetup {
 /nconv Resolution 72.27 div def
 /min /Ryumin-Light-H findfont [nconv 0 0 nconv neg 0 0] makefont def
 /goth /GothicBBB-Medium-H findfont [nconv 0 0 nconv neg 0 0] makefont def

 /tmin /Ryumin-Light-V findfont [nconv 0 0 nconv neg 0 0] makefont def
 /tgoth /GothicBBB-Medium-V findfont [nconv 0 0 nconv neg 0 0] makefont def
} bind def

/JFontSetup3 {
 /nconv Resolution 72.27 div def
 /fmin /FutoMinA101-Bold-H findfont [nconv 0 0 nconv neg 0 0] makefont def
 /fgoth /FutoGoB101-Bold-H findfont [nconv 0 0 nconv neg 0 0] makefont def
 /mgoth /Jun101-Light-H findfont [nconv 0 0 nconv neg 0 0] makefont def

 /tfmin /FutoMinA101-Bold-V findfont [nconv 0 0 nconv neg 0 0] makefont def
 /tfgoth /FutoGoB101-Bold-V findfont [nconv 0 0 nconv neg 0 0] makefont def
 /tmgoth /Jun101-Light-V findfont [nconv 0 0 nconv neg 0 0] makefont def
} bind def

/@jsf {		% fontdict scale @jsf
 scalefont setfont
} bind def

/@psmtrx matrix def
/@psf {		% fontname scale @psf
 //@psmtrx
 dup 0 3 index put
 dup 3 3 index neg put
 exch pop
 exch findfont exch makefont setfont
} bind def

/jc	% char_code_top char_code_bottm c -  -- show the character (code given)
  /show load def

% oka 27-Feb-1989 Japanese character

% restore packing mode
systemdict /setpacking known {savepacking setpacking} if
end					% revert to previous dictionary

%%EndDocument
%%EndProlog
%%BeginSetup
TeXDict begin
/Resolution 300 def
JFontSetup /@tm 1.000 def /@lm 1.000 def false false /a4 @sp
/#copies 1 def
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
%%EndPageSetup
@bop
/cmr10 41.511 @psf
1810 29 p (1) s
tmin 16.627 @jsf
925 176 p <3d24> jc
925 267 p <3b4e> jc
925 357 p <4f40> jc
925 448 p <4a38> jc
925 690 p <3064> jc
925 759 p <4541> jc
925 828 p <3b52> jc
925 897 p <244e> jc
925 966 p <4b5d> jc
925 1035 p <4c75> jc
925 1104 p <332b> jc
925 1173 p <3b4f> jc
925 1242 p <4e4e> jc
925 1311 p <3068> jc
925 1380 p <244e> jc
925 1449 p <2533> jc
925 1518 p <2573> jc
925 1587 p <2554> jc
925 1656 p <2565> jc
925 1725 p <213c> jc
925 1794 p <253f> jc
925 1863 p <3272> jc
925 1932 p <404f> jc
925 2218 p <3a58> jc
925 2287 p <4623> jc
925 2356 p <4e58> jc
925 2425 p <4240> jc
925 2494 p <4f3a> jc
614 176 p <3d24> jc
614 267 p <3b4e> jc
614 357 p <4f40> jc
614 448 p <4a38> jc
614 690 p <3064> jc
614 759 p <4541> jc
614 828 p <3b52> jc
614 897 p <244e> jc
614 966 p <4b5d> jc
614 1035 p <4c75> jc
614 1104 p <332b> jc
614 1173 p <3b4f> jc
614 1242 p <4e4e> jc
614 1311 p <3068> jc
614 1380 p <244e> jc
614 1449 p <2533> jc
614 1518 p <2573> jc
614 1587 p <2554> jc
614 1656 p <2565> jc
614 1725 p <213c> jc
614 1794 p <253f> jc
614 1863 p <3272> jc
614 1932 p <404f> jc
614 2218 p <3a58> jc
614 2287 p <4623> jc
614 2356 p <4e58> jc
614 2425 p <4240> jc
614 2494 p <4f3a> jc
303 176 p <3d24> jc
303 267 p <3b4e> jc
303 357 p <4f40> jc
303 448 p <4a38> jc
303 690 p <3064> jc
303 759 p <4541> jc
303 828 p <3b52> jc
303 897 p <244e> jc
303 966 p <4b5d> jc
303 1035 p <4c75> jc
303 1104 p <332b> jc
303 1173 p <3b4f> jc
303 1242 p <4e4e> jc
303 1311 p <3068> jc
303 1380 p <244e> jc
303 1449 p <2533> jc
303 1518 p <2573> jc
303 1587 p <2554> jc
303 1656 p <2565> jc
303 1725 p <213c> jc
303 1794 p <253f> jc
303 1863 p <3272> jc
303 1932 p <404f> jc
303 2218 p <3a58> jc
303 2287 p <4623> jc
303 2356 p <4e58> jc
303 2425 p <4240> jc
303 2494 p <4f3a> jc
33 176 p <3d24> jc
33 267 p <3b4e> jc
33 357 p <4f40> jc
33 448 p <4a38> jc
33 690 p <3064> jc
33 759 p <4541> jc
33 828 p <3b52> jc
33 897 p <244e> jc
33 966 p <4b5d> jc
33 1035 p <4c75> jc
33 1104 p <332b> jc
33 1173 p <3b4f> jc
33 1242 p <4e4e> jc
33 1311 p <3068> jc
33 1380 p <244e> jc
33 1449 p <2533> jc
33 1518 p <2573> jc
33 1587 p <2554> jc
33 1656 p <2565> jc
33 1725 p <213c> jc
33 1794 p <253f> jc
33 1863 p <3272> jc
33 1932 p <404f> jc
33 2218 p <3a58> jc
33 2287 p <4623> jc
33 2356 p <4e58> jc
33 2425 p <4240> jc
33 2494 p <4f3a> jc
/cmr10 59.776 @psf
863 120 p ('96) s
548 120 p ('96) s
245 120 p ('96) s
-28 120 p ('96) s
@eop
%%PageTrailer
%%Trailer
@end
%%Pages: 1
