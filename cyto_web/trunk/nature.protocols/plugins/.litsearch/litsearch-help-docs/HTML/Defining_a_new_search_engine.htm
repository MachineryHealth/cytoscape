<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Solutionsoft HelpBreeze JavaHelp Edition">
<TITLE>Defining a new search engine</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF=../javahelp.css>
</HEAD>
<BODY BGCOLOR=#ffffff>
<H1>Defining a new search engine</H1>
<P>LitSearch can perform its search via several different search engines, which 
we refer to as <STRONG>bots</STRONG>.&nbsp; Examples of <STRONG>bots</STRONG> 
are&nbsp;PubMed and OMIM.&nbsp; To add a new search engine, or modify an 
existing search engine, you need to edit the <EM>Agilent Literature Search 
</EM>settings file.&nbsp;&nbsp;&nbsp; <EM>Agilent Literature Search 
</EM>settings are contained, in XML format, in a file named <FONT 
face=Courier>litsearch-settings.xml</FONT>, which is located under the folder 
<FONT face=Courier>&lt;user.home&gt;/.litsearch/data/</FONT>.&nbsp; A search 
engine can be configured via the <STRONG>bot</STRONG> tag in the 
litsearch-settings.xml file.&nbsp; The LitSearch plugin comes installed with the 
PubMed <STRONG>bot</STRONG> configured and enabled and the OMIM and USPTO 
<STRONG>bots </STRONG>configured but disabled.&nbsp;&nbsp; </P>
<P>To define a new <STRONG>bot</STRONG>, you need to add a <STRONG>&lt;bot&gt; 
</STRONG>tag to the <FONT face=Courier>litsearch-settings.xml&nbsp;<FONT 
face=Arial>that specifies a number of search attributes 
that&nbsp;your search engine expects.&nbsp; These attributes vary from search 
engine to search engine and you will need to identify and supply the attribute 
values that your desired search engine is expecting.</FONT>&nbsp;</FONT></P>
<P>The following is an example of the <STRONG>bot 
</STRONG>definition for the US Patent and Trademark Office (USPTO), which 
<EM>Agilent Literature Search </EM>provides as one of its default search 
engines.</P>
<P><FONT color=#ff0000><SPAN 
class=m><FONT color=#0000ff>&lt;</FONT></SPAN><SPAN class=t><FONT 
color=#990000>bot</FONT></SPAN><FONT color=#000000> </FONT><SPAN class=t><FONT 
color=#990000>displayname</FONT></SPAN><SPAN class=m><FONT 
color=#0000ff>="</FONT></SPAN><FONT 
color=#000000><STRONG>USPTO</STRONG></FONT><SPAN class=m><FONT 
color=#0000ff>"</FONT></SPAN><SPAN class=t><FONT color=#990000> 
</FONT></SPAN>   </FONT></P>
<P><FONT color=#ff0000><SPAN class=t><FONT 
color=#990000>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
prefix</FONT></SPAN><SPAN class=m><FONT color=#0000ff>=</FONT></SPAN><FONT 
color=#000000><STRONG><A 
href="http://patft.uspto.gov">http://patft.uspto.gov</A></STRONG></FONT><SPAN 
class=m><FONT color=#0000ff></FONT></SPAN><SPAN class=t><FONT color=#990000> 
</FONT></SPAN></FONT></P>
<P><FONT color=#ff0000><SPAN class=t><FONT 
color=#990000>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
query_delim</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><FONT 
color=#000000><STRONG>+</STRONG></FONT><SPAN class=m><FONT 
color=#0000ff>"</FONT></SPAN><SPAN class=t><FONT color=#990000> 
</FONT></SPAN></FONT></P>
<P><FONT color=#ff0000><SPAN class=t><FONT 
color=#990000>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
query_hits</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><FONT 
color=#000000><STRONG>&amp;amp;l=</STRONG></FONT><SPAN class=m><FONT 
color=#0000ff>"</FONT></SPAN><SPAN class=t><FONT color=#990000> 
</FONT></SPAN></FONT></P>
<P><FONT color=#ff0000><SPAN class=t><FONT 
color=#990000>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
query_url</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><FONT 
color=#000000><U><STRONG><FONT 
color=#0000ff>http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&amp;amp;Sect2=HITOFF&amp;amp;u=%2Fnetahtml%2Fsearch-adv.htm&amp;amp;r=0&amp;amp;p=1&amp;amp;f=S&amp;amp;d=pall&amp;amp;Query="</FONT></STRONG></U></FONT></FONT></P>
<P><FONT color=#ff0000><SPAN class=t><FONT 
color=#990000>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; url_regexp= 
<STRONG><FONT color=#000000>"&amp;</FONT></STRONG> 
</FONT></SPAN><SPAN class=m><FONT color=#000000><STRONG>lt;A 
HREF=(.*?)&gt;(.*?)&amp;lt;/A&gt;.*?/netaicon/PTO/ftext.gif.*?&amp;lt;A 
HREF=.*?&gt;(.*?)&amp;lt;/A&gt;&amp;lt;/TD&gt;"</STRONG></FONT></SPAN></FONT></P>
<P><FONT color=#ff0000><SPAN class=t><FONT 
color=#990000>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
url_show</FONT></SPAN><SPAN class=m><FONT color=#0000ff>="</FONT></SPAN><FONT 
color=#000000><STRONG>no</STRONG></FONT><FONT color=#0000ff><SPAN 
class=m>"</SPAN><SPAN class=m>&nbsp;&nbsp; /&gt;</SPAN></FONT></FONT><FONT 
color=#000000> </FONT><FONT color=#ff0000></FONT></P>
<P><EM><FONT size=2></FONT></EM><EM></EM>&nbsp;</P>
<P>The attributes of the <STRONG>bot </STRONG>tag are defined as follows</P>
<UL>
  <LI><STRONG>displayname:</STRONG> <FONT color=#141414>name by which the bot 
  will be displayed in <EM>Agilent Literature Search </EM> </FONT>
  <LI>
  <DIV><STRONG>prefix:</STRONG> text that is prepended to 
  relative URLs in the query result.</DIV>
  <LI>
  <DIV><STRONG>query_delim: </STRONG>delimiting string that 
  is inserted between individual terms in the query</DIV>
  <LI>
  <DIV><STRONG>query_hits:&nbsp; </STRONG>parameter that specifies number of hits allowed from the search 
  engine (if it has such an option)</DIV>
  <LI>
  <DIV><STRONG>query_url:</STRONG>   URL to which 
  query terms are appended.&nbsp;&nbsp;&nbsp;&nbsp; An example query to USPTO for 
  the term "melanoma", given the specification of <STRONG>query_url 
  </STRONG>above,&nbsp;is: 
  <P><A 
  href="http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2Fsearch-adv.htm&amp;r=0&amp;p=1&amp;f=S&amp;l=50&amp;Query=melanoma&amp;d=ptxt">http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2Fsearch-adv.htm&amp;r=0&amp;p=1&amp;f=S&amp;l=50&amp;Query=melanoma&amp;d=ptxt</A><A><U><FONT 
  color=#0000ff></FONT></U></A></P>      </DIV>
  <LI>
  <DIV><STRONG>url_regexp: </STRONG>regular expression used for parsing the&nbsp;HTML of the index 
  page initially returned by the search engine.&nbsp; The symbols 
  enclosed in parentheses specify the substrings of the URL that are to be 
  matched to values that <EM>Agilent Literature Search </EM>uses in reporting 
  results and building networks.&nbsp; In the case above, 
  the first (.*?) substring matches the URL for the document to be fetched and 
  analyzed.&nbsp; The second (.*?) substring matches a unique&nbsp;identifier 
  for the document, in this case the patent number, which is displayed on the 
  USPTO's "hits" page (see figure below).&nbsp; The third (.*?) captures the 
  title of the document, in this case the title of the patent.&nbsp;&nbsp; This 
  information is used by <EM>Agilent Literature Search </EM>in retrieving the 
  appropriate documents for analysis and&nbsp;in displaying results in the 
  <STRONG>Query Matches </STRONG>   
             
             
             
              
               
       panel.&nbsp; An example of returned HTML from USPTO is 
  shown 
  below:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</DIV></LI></UL>
  <P><PRE id=line72><FONT size=3><!--StartFragment --> <PRE id=line72>&lt;<SPAN class=start-tag>TD</SPAN><SPAN class=attribute-name> valign</SPAN>=<SPAN class=attribute-value>top</SPAN>&gt;&lt;<SPAN class=start-tag>A</SPAN><SPAN class=attribute-name>  HREF</SPAN>=<SPAN class=attribute-value>/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=/netahtml/search-adv.htm&amp;r=1&amp;p=1&amp;f=G&amp;l=50&amp;d=ptxt&amp;S1=melanoma&amp;OS=melanoma&amp;RS=melanoma</SPAN>&gt; 6,861,564&lt;/<SPAN class=end-tag>A</SPAN>&gt;&lt;/<SPAN class=end-tag>TD</SPAN>&gt;</PRE><PRE>&nbsp;</PRE><PRE id=line82>&lt;<SPAN class=start-tag>TD</SPAN><SPAN class=attribute-name> valign</SPAN>=<SPAN class=attribute-value>baseline</SPAN>&gt;&lt;<SPAN class=start-tag>IMG</SPAN><SPAN class=attribute-name> border</SPAN>=<SPAN class=attribute-value>0 </SPAN><SPAN class=attribute-name>src</SPAN>=<SPAN class=attribute-value>"/netaicon/PTO/ftext.gif" </SPAN><SPAN class=attribute-name>alt</SPAN>=<SPAN class=attribute-value>"Full-Text"</SPAN>&gt;&lt;/<SPAN class=end-tag>TD</SPAN>&gt;
&lt;<SPAN class=start-tag>TD</SPAN><SPAN class=attribute-name> valign</SPAN>=<SPAN class=attribute-value>top</SPAN>&gt;&lt;<SPAN class=start-tag>A</SPAN><SPAN class=attribute-name>  HREF</SPAN>=<SPAN class=attribute-value>/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=/netahtml/search-adv.htm&amp;r=1&amp;p=1&amp;f=G&amp;l=50&amp;d=ptxt&amp;S1=melanoma&amp;OS=melanoma&amp;RS=melanoma</SPAN>&gt; Process for preparing resorcinol derivatives
&lt;/<SPAN class=end-tag>A</SPAN>&gt;&lt;/<SPAN class=end-tag>TD</SPAN>&gt;
</PRE>
</FONT></PRE>
  <P><PRE><FONT face=Arial><FONT size=3>The figure below shows the index page returned by USPTO which includes the HTML for the regular expression discussed above.</FONT></FONT></PRE>
<P></P><PRE><FONT face=Arial><FONT size=3><IMG  hspace=0 src="../Images/litsearch_USPTO.png"  border=0></FONT></FONT></PRE><PRE><FONT face=Arial><FONT size=3></FONT></FONT>&nbsp;</PRE><PRE><FONT face=Arial><FONT size=3></FONT></FONT>&nbsp;</PRE><PRE><FONT face=Arial><FONT size=3>The figure below shows this information displayed in the <STRONG>Query Matches </STRONG>panel of <EM>Agilent Literature Search.</EM></FONT></FONT></PRE><PRE><FONT face=Arial><FONT size=3><EM></EM></FONT></FONT>&nbsp;</PRE><PRE><FONT face=Arial><FONT size=3><EM><IMG hspace=0 src="../Images/usptoResult.png" border=0><!--StartFragment --></EM></FONT></FONT></PRE>
</BODY>
</HTML>