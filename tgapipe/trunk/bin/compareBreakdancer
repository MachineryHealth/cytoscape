#! /usr/bin/env python

"""
Compare germline to tumor breakdancer variants

Usage: ./compareBreakdancer breakdancer.normal.out breakdancer.tumor.out
"""

import sys, os
myBinDir = os.path.normpath(os.path.dirname(sys.argv[0]))
sys.path.append(myBinDir + "/../src")

from breakdancer.breakdancer import BDTable, BDReader

def main():

    bdn = BDTable(sys.argv[1]) # Point to normal file

    for bdvar in BDReader(sys.argv[2]):
        if len(bdn.overlaps(bdvar)) == 0:
            bdvar.somatic = "somatic"
        elif len(bdn.matches(bdvar)) == 0:
            bdvar.somatic = "unclear"
        else:
            bdvar.somatic = "germline"
        print bdvar


if __name__ == "__main__":
    main()


